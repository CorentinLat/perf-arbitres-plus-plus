<section class="handle-match-analysis-component">
    <section class="w-100 d-flex gap-5" *ngIf="!displayActionForm">
        <section class="comments-container">
            <app-game-comment-display
                class="comment-display-component"
                [game]="game"
                [isEditable]="true"
                [keyToDisplay]="'gameDescription'"
                [keyLabel]="'GAME_DESCRIPTION'"
            ></app-game-comment-display>
            <app-game-comment-display
                class="comment-display-component"
                [game]="game"
                [isEditable]="true"
                [keyToDisplay]="'globalPerformance'"
                [keyLabel]="'GLOBAL_PERFORMANCE'"
            ></app-game-comment-display>
        </section>

        <article class="buttons-container">
            <button class="add-decision-btn btn btn-success" (click)="handleDisplayActionForm()">
                <i class="bi bi-plus"></i> {{ 'PAGE.MATCH_ANALYSIS.BUTTONS.ADD_DECISION' | translate }}
            </button>

            <button class="collapse-btn btn btn-outline-dark" (click)="collapse.actions = !collapse.actions">
                <span *ngIf="!collapse.actions">
                    {{ 'PAGE.MATCH_ANALYSIS.BUTTONS.REDUCE' | translate }}
                    <i class="bi bi-chevron-right"></i>
                </span>
                <span *ngIf="collapse.actions">
                    <i class="bi bi-chevron-left"></i>
                    {{ 'PAGE.MATCH_ANALYSIS.BUTTONS.ENLARGE' | translate }}
                </span>
            </button>
        </article>
    </section>

    <app-add-edit-action
        class="w-100 d-flex align-items-center justify-content-center"
        [action]="currentAction"
        [gameNumber]="game.information.gameNumber"
        [videoApiService]="videoApiService"
        (actionAdded)="handleActionAdded($event)"
        (actionEdited)="handleActionEdited($event)"
        (actionCancelled)="handleActionCancelled()"
        *ngIf="displayActionForm"
    ></app-add-edit-action>
</section>
